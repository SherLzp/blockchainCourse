{"ast":null,"code":"import _regeneratorRuntime from \"/Users/janei/Desktop/dapp/crowdfunding/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/janei/Desktop/dapp/crowdfunding/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/janei/Desktop/dapp/crowdfunding/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/janei/Desktop/dapp/crowdfunding/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/janei/Desktop/dapp/crowdfunding/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/janei/Desktop/dapp/crowdfunding/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/janei/Desktop/dapp/crowdfunding/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/janei/Desktop/dapp/crowdfunding/src/App.js\";\nimport React, { Component } from 'react';\nimport web3 from './utils/InitWeb3';\nimport { fundingFactoryInstance } from './eth/instance';\nimport TabCenter from \"./display/TabCenter\";\nimport { Header } from 'semantic-ui-react';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    _this.state = {\n      currentAccount: ''\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentWillMount\",\n    value: function () {\n      var _componentWillMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var accounts, platformManager;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return web3.eth.getAccounts();\n\n              case 2:\n                accounts = _context.sent;\n                console.log(accounts);\n                _context.next = 6;\n                return fundingFactoryInstance.methods.platformManager().call();\n\n              case 6:\n                platformManager = _context.sent;\n                // console.log('manager :', platformManager)\n                console.log(this.state.currentAccount);\n                this.setState({\n                  currentAccount: accounts[0]\n                });\n                console.log(this.state.currentAccount);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentWillMount() {\n        return _componentWillMount.apply(this, arguments);\n      }\n\n      return componentWillMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(Header, {\n        as: \"h1\",\n        color: \"Black\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, \"\\u4F17\\u7B79DAPP, \\u5F53\\u524D\\u8D26\\u6237 : \", this.state.currentAccount), React.createElement(TabCenter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/janei/Desktop/dapp/crowdfunding/src/App.js"],"names":["React","Component","web3","fundingFactoryInstance","TabCenter","Header","App","state","currentAccount","eth","getAccounts","accounts","console","log","methods","platformManager","call","setState"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,SAAQC,sBAAR,QAAqC,gBAArC;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,SAAQC,MAAR,QAAqB,mBAArB;;IAEMC,G;;;;;AACF,iBAAc;AAAA;;AAAA;;AACV;AAEA,UAAKC,KAAL,GAAa;AACTC,MAAAA,cAAc,EAAE;AADP,KAAb;AAHU;AAMb;;;;;;;;;;;;;;uBAGwBN,IAAI,CAACO,GAAL,CAASC,WAAT,E;;;AAAjBC,gBAAAA,Q;AACJC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;uBAE4BR,sBAAsB,CAACW,OAAvB,CAA+BC,eAA/B,GAAiDC,IAAjD,E;;;AAAxBD,gBAAAA,e;AACJ;AAEAH,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAL,CAAWC,cAAvB;AACA,qBAAKS,QAAL,CAAc;AACVT,kBAAAA,cAAc,EAAEG,QAAQ,CAAC,CAAD;AADd,iBAAd;AAGAC,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAL,CAAWC,cAAvB;;;;;;;;;;;;;;;;;;6BAIK;AACL,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,EAAE,EAAC,IAAX;AAAgB,QAAA,KAAK,EAAC,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DAA8C,KAAKD,KAAL,CAAWC,cAAzD,CADJ,EAEI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ;AAMH;;;;EA/BaP,S;;AAkClB,eAAeK,GAAf","sourcesContent":["import React, {Component} from 'react';\nimport web3 from './utils/InitWeb3'\nimport {fundingFactoryInstance} from './eth/instance'\nimport TabCenter from \"./display/TabCenter\";\nimport {Header} from 'semantic-ui-react'\n\nclass App extends Component {\n    constructor() {\n        super();\n\n        this.state = {\n            currentAccount: '',\n        }\n    }\n\n    async componentWillMount() {\n        let accounts = await web3.eth.getAccounts()\n        console.log(accounts)\n\n        let platformManager = await fundingFactoryInstance.methods.platformManager().call()\n        // console.log('manager :', platformManager)\n\n        console.log(this.state.currentAccount);\n        this.setState({\n            currentAccount: accounts[0],\n        })\n        console.log(this.state.currentAccount);\n    }\n\n\n    render() {\n        return (\n            <div>\n                <Header as='h1' color='Black'>众筹DAPP, 当前账户 : {this.state.currentAccount}</Header>\n                <TabCenter/>\n            </div>\n        );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}