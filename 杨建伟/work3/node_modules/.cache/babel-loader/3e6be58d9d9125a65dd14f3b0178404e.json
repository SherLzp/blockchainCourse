{"ast":null,"code":"import _regeneratorRuntime from \"/Users/janei/Desktop/dapp/crowdfunding/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/janei/Desktop/dapp/crowdfunding/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/janei/Desktop/dapp/crowdfunding/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/janei/Desktop/dapp/crowdfunding/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/janei/Desktop/dapp/crowdfunding/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/janei/Desktop/dapp/crowdfunding/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/janei/Desktop/dapp/crowdfunding/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/janei/Desktop/dapp/crowdfunding/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/janei/Desktop/dapp/crowdfunding/src/display/creatorFundingTab/CreateFundingForm.js\";\nimport React, { Component } from 'react';\nimport { Dimmer, Form, Label, Loader, Segment } from 'semantic-ui-react';\nimport { createFunding } from \"../../eth/interaction\";\n\nvar CreateFundingForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateFundingForm, _Component);\n\n  function CreateFundingForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CreateFundingForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CreateFundingForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      active: false,\n      projectName: '',\n      supportMoney: '',\n      targetMoney: '',\n      duration: '' //表单数据数据变化时触发\n\n    };\n\n    _this.handleChange = function (e, _ref) {\n      var name = _ref.name,\n          value = _ref.value;\n      return _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleCreate =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var _this$state, active, projectName, targetMoney, supportMoney, duration, res;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$state = _this.state, active = _this$state.active, projectName = _this$state.projectName, targetMoney = _this$state.targetMoney, supportMoney = _this$state.supportMoney, duration = _this$state.duration;\n\n              _this.setState({\n                active: true\n              });\n\n              _context.prev = 2;\n              _context.next = 5;\n              return createFunding(projectName, targetMoney, supportMoney, duration);\n\n            case 5:\n              res = _context.sent;\n              alert(\"\\u521B\\u5EFA\\u5408\\u7EA6\\u6210\\u529F\\uFF01\\n\");\n\n              _this.setState({\n                active: false\n              });\n\n              _context.next = 14;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](2);\n\n              _this.setState({\n                active: false\n              });\n\n              console.log(_context.t0);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[2, 10]]);\n    }));\n    return _this;\n  }\n\n  _createClass(CreateFundingForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          active = _this$state2.active,\n          projectName = _this$state2.projectName,\n          targetMoney = _this$state2.targetMoney,\n          supportMoney = _this$state2.supportMoney,\n          duration = _this$state2.duration;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"\\u521B\\u5EFA\\u5408\\u7EA6\"), React.createElement(Dimmer.Dimmable, {\n        as: Segment,\n        dimmed: active,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(Dimmer, {\n        active: active,\n        inverted: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"Loading\")), React.createElement(Form, {\n        onSubmit: this.handleCreate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(Form.Input, {\n        required: true,\n        type: \"text\",\n        placeholder: \"\\u9879\\u76EE\\u540D\\u79F0\",\n        name: \"projectName\",\n        value: projectName,\n        label: \"\\u9879\\u76EE\\u540D\\u79F0:\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), React.createElement(Form.Input, {\n        required: true,\n        type: \"text\",\n        placeholder: \"\\u652F\\u6301\\u91D1\\u989D\",\n        name: \"supportMoney\",\n        value: supportMoney,\n        label: \"\\u652F\\u6301\\u91D1\\u989D:\",\n        labelPosition: \"left\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      })), React.createElement(Form.Input, {\n        required: true,\n        type: \"text\",\n        placeholder: \"\\u76EE\\u6807\\u91D1\\u989D\",\n        name: \"targetMoney\",\n        value: targetMoney,\n        label: \"\\u76EE\\u6807\\u91D1\\u989D:\",\n        labelPosition: \"left\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      })), React.createElement(Form.Input, {\n        required: true,\n        type: \"text\",\n        placeholder: \"\\u4F17\\u7B79\\u65F6\\u95F4\",\n        name: \"duration\",\n        value: duration,\n        label: \"\\u4F17\\u7B79\\u65F6\\u95F4:\",\n        labelPosition: \"left\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })), React.createElement(Form.Button, {\n        primary: true,\n        content: \"\\u521B\\u5EFA\\u4F17\\u7B79\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return CreateFundingForm;\n}(Component);\n\nexport default CreateFundingForm;","map":{"version":3,"sources":["/Users/janei/Desktop/dapp/crowdfunding/src/display/creatorFundingTab/CreateFundingForm.js"],"names":["React","Component","Dimmer","Form","Label","Loader","Segment","createFunding","CreateFundingForm","state","active","projectName","supportMoney","targetMoney","duration","handleChange","e","name","value","setState","handleCreate","res","alert","console","log"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Dimmer, Form, Label, Loader, Segment} from 'semantic-ui-react'\nimport {createFunding} from \"../../eth/interaction\";\n\nclass CreateFundingForm extends Component {\n    state = {\n        active: false,\n        projectName: '',\n        supportMoney: '',\n        targetMoney: '',\n        duration: '',\n    }\n\n    //表单数据数据变化时触发\n    handleChange = (e, {name, value}) => this.setState({[name]: value})\n\n    handleCreate = async () => {\n        let {active, projectName, targetMoney, supportMoney, duration} = this.state\n\n        this.setState({active: true})\n\n        try {\n            let res = await createFunding(projectName, targetMoney, supportMoney, duration)\n            alert(`创建合约成功！\\n`)\n            this.setState({active: false})\n        } catch (e) {\n            this.setState({active: false})\n            console.log(e)\n        }\n\n    }\n\n\n    render() {\n        let {active, projectName, targetMoney, supportMoney, duration} = this.state\n\n        return (\n            <div>\n                <br></br>\n                <h3>创建合约</h3>\n                <Dimmer.Dimmable as={Segment} dimmed={active}>\n                    <Dimmer active={active} inverted>\n                        <Loader>Loading</Loader>\n                    </Dimmer>\n                    <Form onSubmit={this.handleCreate}>\n                        <Form.Input required type='text' placeholder='项目名称' name='projectName'\n                                    value={projectName} label='项目名称:'\n                                    onChange={this.handleChange}/>\n\n                        <Form.Input required type='text' placeholder='支持金额' name='supportMoney'\n                                    value={supportMoney} label='支持金额:'\n                                    labelPosition='left'\n                                    onChange={this.handleChange}>\n                            <input/>\n                        </Form.Input>\n\n                        <Form.Input required type='text' placeholder='目标金额' name='targetMoney' value={targetMoney}\n                                    label='目标金额:'\n                                    labelPosition='left'\n                                    onChange={this.handleChange}>\n                            <input/>\n                        </Form.Input>\n                        <Form.Input required type='text' placeholder='众筹时间' name='duration' value={duration}\n                                    label='众筹时间:'\n                                    labelPosition='left'\n                                    onChange={this.handleChange}>\n                            <input/>\n                        </Form.Input>\n                        <Form.Button primary content='创建众筹'/>\n                    </Form>\n                </Dimmer.Dimmable>\n            </div>\n        )\n    }\n}\n\nexport default CreateFundingForm\n"]},"metadata":{},"sourceType":"module"}